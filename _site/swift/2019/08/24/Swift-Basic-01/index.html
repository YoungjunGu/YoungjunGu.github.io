<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v6.4.0 (https://qwtel.com/hydejack/)
-->









<head>
  <!-- =============== -->
<!-- META            -->
<!-- =============== -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="format-detection" content="telephone=no" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<meta
  name="naver-site-verification"
  content="22c5b4ef3bfda7fc6100671413989219de7a4ac8"
/>
<meta property="og:title" content="Swift 메모리 관리" />
<meta property="og:type" content="article" />

<!-- =============== -->
<!-- Google AdSense  -->
<!-- =============== -->
<script
  data-ad-client="ca-pub-8247516864622650"
  async
  src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"
></script>

 
<meta property="og:image" content="http://localhost:4000/assets/img/logo.png" />


<meta property="og:image:width" content="640" />
<meta property="og:image:height" content="360" />
 
<title>Swift 메모리 관리 &middot; Gaki</title>
 
<meta
  name="description"
  content="ARC (Automatic Reference Counting)

"
/>
<meta
  property="og:description"
  content="ARC (Automatic Reference Counting)

"
/>



<!-- =============== -->
<!-- LINKS           -->
<!-- =============== -->
<link rel="canonical" href="http://localhost:4000/swift/2019/08/24/Swift-Basic-01/" />
<meta property="og:url" content="http://localhost:4000/swift/2019/08/24/Swift-Basic-01/" />

<link
  rel="alternate"
  type="application/atom+xml"
  title="Gaki Feed"
  href="http://localhost:4000/feed.xml"
/>


<link rel="prev" href="http://localhost:4000/ios/2019/02/23/iOS-Basic-01/" />
 
<link rel="next" href="http://localhost:4000/ios/2019/08/24/iOS-UI%EB%94%94%EC%9E%90%EC%9D%B8-01/" />


<link
  rel="apple-touch-icon"
  href="http://localhost:4000/apple-touch-icon.png"
/>
<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?" />
<!-- Place favicon.ico in the root directory -->

<!-- =============== -->
<!-- SCRIPTS         -->
<!-- =============== -->
<script>
  !function(n,e){function t(n,e){n.onload=function(){this.onerror=this.onload=null,e(null,n)},n.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),n)}}function o(n,e){n.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,e(null,n))}}n._loaded=!1,n.loadJSDeferred=function(a,d){function r(){n._loaded=!0;var r=e.createElement("script");r.src=a,d&&(("onload"in r?t:o)(r,d),r.onload||t(r,d));var l=e.getElementsByTagName("script")[0];l.parentNode.insertBefore(r,l)}n._loaded?r():n.addEventListener?n.addEventListener("load",r,!1):n.attachEvent?n.attachEvent("onload",r):n.onload=r}}(window,document);

  !function(e){"use strict";var n=function(n,t,o){function i(e){if(a.body)return e();setTimeout(function(){i(e)})}function r(){l.addEventListener&&l.removeEventListener("load",r),l.media=o||"all"}var d,a=e.document,l=a.createElement("link");if(t)d=t;else{var f=(a.body||a.getElementsByTagName("head")[0]).childNodes;d=f[f.length-1]}var s=a.styleSheets;l.rel="stylesheet",l.href=n,l.media="only x",i(function(){d.parentNode.insertBefore(l,t?d:d.nextSibling)});var u=function(e){for(var n=l.href,t=s.length;t--;)if(s[t].href===n)return e();setTimeout(function(){u(e)})};return l.addEventListener&&l.addEventListener("load",r),l.onloadcssdefined=u,u(r),l};"undefined"!=typeof exports?exports.loadCSS=n:e.loadCSS=n}("undefined"!=typeof global?global:this);

  !function(t){if(t.loadCSS){var e=loadCSS.relpreload={};if(e.support=function(){try{return t.document.createElement("link").relList.supports("preload")}catch(t){return!1}},e.poly=function(){for(var e=t.document.getElementsByTagName("link"),r=0;r<e.length;r++){var n=e[r];"preload"===n.rel&&"style"===n.getAttribute("as")&&(t.loadCSS(n.href,n,n.getAttribute("media")),n.rel=null)}},!e.support()){e.poly();var r=t.setInterval(e.poly,300);t.addEventListener&&t.addEventListener("load",function(){e.poly(),t.clearInterval(r)}),t.attachEvent&&t.attachEvent("onload",function(){t.clearInterval(r)})}}}(this);

  window.disablePushState = false;
  window.disableDrawer = false;
</script>

<!--[if lt IE 9]>
  <script src="https://unpkg.com/html5shiv/dist/html5shiv.min.js"></script>
<![endif]-->

<!-- =============== -->
<!-- STYLES          -->
<!-- =============== -->
<!--[if gt IE 8]><!---->
<style>
  
  article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}*{box-sizing:border-box}html,body{margin:0;padding:0}html{font-size:16px;line-height:1.75}body{color:#333;background-color:#fff;overflow-y:scroll}a{text-decoration:none}.lead{margin-left:-1rem;margin-right:-1rem}img,.img{display:block;max-width:100%;margin-bottom:1rem;border:none}img.lead,.img.lead{max-width:calc(100% + 2rem);width:calc(100% + 2rem)}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-weight:bold;text-rendering:optimizeLegibility}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6{margin:1.6rem 0 1rem;line-height:1.6}h1,.h1{font-size:2rem;line-height:1.25}h2,.h2{font-size:1.5rem}h3,.h3{font-size:1.17em}p{margin-top:0;margin-bottom:1rem}p.lead{font-size:1.25rem;font-weight:300;padding:0 1rem}ul,ol,dl{margin-top:0;margin-bottom:1rem}ul,ol{padding-left:1.25rem}hr{position:relative;margin:1.5rem 0;border:0;border-top:1px solid #eee}.hr{padding-bottom:.5rem;border-bottom:1px solid #eee;margin-bottom:1.5rem}h4,h5,h6,.h4,.h5,.h6{margin-bottom:0.5rem;font-size:1rem}table{margin-bottom:1rem;width:100%;width:calc(100% + 2rem);margin-left:-1rem;border:1px solid #e5e5e5;border-collapse:collapse;border-spacing:0}td,th{padding:.25rem .5rem;border:1px solid #e5e5e5}td:first-child,th:first-child{padding-left:1rem}td:last-child,th:last-child{padding-right:1rem}thead+tbody,tbody+tbody,tfoot{border-top:3px double #e5e5e5}tbody tr:nth-child(odd) td,tbody tr:nth-child(odd) th{background-color:#f9f9f9}footer{margin-bottom:2rem}.page,.post{margin-bottom:3em}.page li+li,.post li+li{margin-top:.25rem}.page>header,.post>header{margin-bottom:2rem}.page-title,.post-title{margin-top:0}.post-date{display:block;margin-top:-0.5rem;margin-bottom:1rem;color:#9a9a9a}.related-posts{padding-left:0;list-style:none}.related-posts>li,.related-posts>li+li{margin-top:1rem}.related-posts>li>small,.related-posts>li+li>small{font-size:75%;color:#9a9a9a}.message{margin-bottom:1rem;padding:1rem;color:#787878;background-color:#f9f9f9;margin-left:-1rem;margin-right:-1rem}body,main{position:relative;overflow-x:hidden}@media screen{body::before{content:'';background:#e5e5e5;position:absolute;left:0;top:0;bottom:0}}@media screen and (min-width: 40em){html{font-size:17px}}@media screen and (min-width: 54em){html{font-size:16px}}@media screen and (min-width: 88em){html{font-size:17px}}@media screen and (min-width: 125em){html{font-size:18px}}.sr-only{display:none}.clearfix,.sidebar-social::after,.clearafter::after{content:"";display:table;clear:both}a,.a{position:relative;padding-bottom:.15rem;border-style:hidden}.img{overflow:hidden;background-color:#f9f9f9}.img>img{margin:0;width:100%;height:100%}.sixteen-nine{position:relative}.sixteen-nine::before{display:block;content:"";width:100%;padding-top:56.25%}.sixteen-nine>*{position:absolute;top:0;left:0;right:0;bottom:0}h1+hr,h2+hr,h3+hr,h4+hr,h5+hr,h6+hr{margin-top:0}.fade-in{animation-duration:500ms;animation-name:fade-in;animation-fill-mode:forwards}@keyframes fade-in{from{transform:translateY(-2rem);opacity:0}50%{transform:translateY(-2rem);opacity:0}to{transform:translateY(0);opacity:1}}.mb6{margin-bottom:10rem}.sidebar{color:rgba(255,255,255,0.75);text-align:left}.sidebar::before{content:"";position:absolute;z-index:2;top:0;left:0;bottom:0;right:0;background:linear-gradient(to bottom, rgba(32,32,32,0) 0%, rgba(32,32,32,0.5) 100%)}.sidebar a{color:#fff;border-bottom-color:rgba(255,255,255,0.2)}.right-side{width:100%;margin-left:auto;margin-right:auto}.right-side .ad-first{text-align:center}@media screen{.right-side{max-width:38rem;min-height:100vh}.right-side .ad-second{display:none}}@media screen and (min-width: 54em){.right-side{margin-left:20rem;margin-right:1rem;padding:4rem 1rem 12rem}.right-side .ad-second{text-align:center;display:block}}@media screen and (min-width: 72em){.right-side{margin-left:22rem;max-width:42rem}}@media screen and (min-width: 88em){.right-side{width:162px;margin-left:0rem;margin-right:0rem;padding:0rem;margin-top:10rem;display:block;float:left}}@media screen and (min-width: 96em){.right-side{width:300px;margin-right:0rem}}#_yDrawer{position:relative}@media screen{#_yDrawer{min-height:640px;min-height:100vh}}@media screen and (min-width: 54em){#_yDrawer{width:18rem;margin-left:0}}.sidebar-bg{position:absolute;height:100%;overflow:hidden;top:0;right:0;bottom:0;left:0;background:#202020 center / cover}.sidebar-box{display:flex;justify-content:center}.sidebar-sticky{position:relative;z-index:3}@media screen{.sidebar-sticky{-ms-overflow-style:none;overflow:-moz-scrollbars-none;height:100%;overflow:auto;position:absolute;padding:3rem 0rem;right:2.5rem;left:2.5rem}}.sidebar-sticky::-webkit-scrollbar{display:none}.sidebar-about>h1{color:#fff;font-size:2rem}.sidebar-nav>ul{list-style:none;padding-left:0;margin-bottom:.5rem}a.sidebar-nav-item{width:100%;font-weight:normal;display:block;line-height:1.75;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,0.2)}a.sidebar-nav-subitem{font-weight:normal;display:block;line-height:1.75;padding:.25rem 0;border-bottom:1px solid rgba(255,255,255,0.2)}@media screen{.y-drawer-scrim{z-index:2}.y-drawer-content{width:18rem;left:-18rem;z-index:3}}.sidebar-social{margin-bottom:.5rem}.sidebar-social>ul{list-style:none;padding-left:0;margin:0 -.25rem}.sidebar-social>ul>li{float:left}.sidebar-social>ul>li>a{display:inline-block;text-align:center;font-size:1.6rem;line-height:3rem;width:3.1249rem;height:4rem;padding:.5rem 0}.sidebar-social>ul li+li{margin-top:0}.fixed-top{position:fixed;top:0;left:0;width:100%;z-index:1}.navbar>.content{padding-top:0;padding-bottom:0;min-height:0;height:0}.menu{display:inline-block;padding:1.75rem 1.5rem;border-bottom:none;margin-left:-1.5rem;color:#9a9a9a !important}.menu::after{content:"\2630"}@media screen and (min-width: 54em){.menu{padding:1.25rem 1.5rem;position:absolute;left:-9999px}.menu:focus{position:static}}.animation-main{pointer-events:none}.loading{display:none}@media print{.menu{display:none}}.animation-main{opacity:0;will-change:opacity}.loading{position:absolute;top:0;right:0;padding:5.25rem 4.5rem;transform-origin:top right;transform:scale(0.33)}.content{position:relative;margin-left:auto;margin-right:auto;padding:5rem 1rem 12rem}@media screen{.content{min-height:100vh}}@media screen and (min-width: 54em){.content{padding:4rem 1rem 12rem;margin-left:19rem;margin-right:3rem}}@media screen and (min-width: 72em){.content{max-width:42rem;margin-left:21rem}}@media screen and (min-width: 88em){.content{float:left;width:100%;margin-left:22rem;margin-right:5rem}}@media screen and (min-width: 96em){.content{max-width:44rem}}@media screen and (min-width: 102em){.content{margin-left:25rem;margin-right:8rem}}.me{width:6.5rem;height:6.5rem;align-self:center;margin-right:20px;border-radius:100%;position:relative}@media screen and (min-width: 40em){.me{width:7rem;height:7rem}}@media screen and (min-width: 54em){.me{width:6.5rem;height:6.5rem}}@media screen and (min-width: 72em){.me{width:7rem;height:7rem}}main>footer{width:100%;position:absolute;bottom:0;left:0;right:0;padding:0 1rem;color:#9a9a9a;font-size:smaller;text-align:center}main>footer>p{margin-bottom:0}html{font-family:'Sans-serif'}h1,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,.heading{font-family:'Sans-serif'}

</style>


<link
  rel="preload"
  href="http://localhost:4000/assets/css/hydejack.css?v=6.4.0"
  as="style"
  onload="this.rel='stylesheet'"
/>

<style id="_pageStyle">

.content a{color:#4f86aa;border-color:rgba(79,134,170,0.2)}.content a:hover{border-color:#4f86aa}:focus{outline-color:#4f86aa}::selection{color:#fff;background:#4f86aa}::-moz-selection{color:#fff;background:#4f86aa}

</style>


<noscript>
  <link rel="stylesheet" href="http://localhost:4000/assets/css/hydejack.css?v=6.4.0" />
    
  
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Lato"
  />
  <style>
    html { font-family: 'Lato', 'Sans-serif' }
    h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6, .heading { font-family: 'Lato', 'Sans-serif' }
  </style>
   
  <link rel="stylesheet" href="http://localhost:4000/assets/icomoon/style.css" />
</noscript>
<!--<![endif]-->

</head>

<body>
  <!-- =============== -->
<!-- MENU            -->
<!-- =============== -->
<div class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <a id="_menu" class="menu no-hover" href="#_title">
      <span class="sr-only">Menu</span>
    </a>
  </div>
</div>

<!-- =============== -->
<!-- CONTENT         -->
<!-- =============== -->
<div id="_yPushState">
  <div class="fade-in">
    <main id="_main" class="content" role="main" data-color="#4f86aa" data-image="/assets/img/kumo.jpg">
      

<article id="post-swift/2019/08/24/Swift-Basic-01" class="post" role="article">
  <header>
    <h1 class="post-title">
      
        Swift 메모리 관리
        
    </h1>

    <p class="post-date heading">
      <time datetime="2019-08-24T00:00:00+09:00">24 Aug 2019</time>
      









in <a href="/category/swift/" data-flip="title">Swift</a>

      









on <a href="/tag/swift-basic/" data-flip="title">Basic</a>

    </p>

    
  <div class="hr" style="padding-bottom:0"></div>


  </header>
  


  
  <div class="markdown-body">

    <!--  -->
    <style>
      .myAd1190 {
        width: 48%;
        height: 280px;
      }

      .myAd1290 {
        width: 48%;
        height: 280px;
      }

      @media(max-width: 800px) {
        .myAd1190 {
          display: none;
        }

        .myAd1290 {
          width: 98%;
        }
      }

      .row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 300px;
      }

      .row-center {
        display: flex;
        justify-content: center;
        height: 258px;
      }
    </style>
   
    <!--<br />-->
    <h1 id="arc-automatic-reference-counting">ARC (Automatic Reference Counting)</h1>

<p><a href="https://github.com/gaki2745/Youngjun-iOS-Studio/blob/master/ReferenceCount/README.md">Referece Counting</a>에서 Swift에서는 앱의 메모리 사용을 관리하기 위해 ARC를 사용한다.<br />
자동으로 참조 횟수를 관리하기 때문에 개발자는 메모리 관리에 신경 쓸 필요가 없고 ARC가 <strong>더이상 사용하지 않는 인스턴스를 메모리에서 해지</strong>한다.</p>

<p>하지만 ARC에서 메모리 관리를 위해 코드의 특정 부분에 대한 관계에 대한 정보를 필요로 한다. 그리고 클래스 타입의 인스턴스에만 적용(Heap영역에 클래스 객체가 생성이 되기 때문), 값 타입인 구조체 열거형 등에는 적용이 되지 않는다.</p>

<h2 id="arc의-동작">ARC의 동작</h2>

<p>ARC는 인스턴스가 그 어떤 참조가 <strong>없을</strong>경우에만 메모리에서 해지 하여 다른 용도로 쓰기 위해 메모리 공간을 마련한다.<br />
만약 ARC에 의해 해지가 된 인스턴스의 프로퍼티등을 접근한다면 앱은 <strong>크래시</strong>가 발생하게 되고 이는 앱에 심각한 위험을 초래한다.<br />
이처럼 ARC의 경우 인스턴스의 모든 프로퍼티,상수 또는 변수가 그 인스턴스에 대한 <strong>참조를 갖고있는지 추적</strong>하게된다. 그래서 참조가 있을 경우 ARC는 그 인스턴스를 메모리에서 해지하지 않는다.</p>

<blockquote>
  <p>Q) ARC의 동작 시기는?<br />
ARC는 인스턴스의 모든 프로퍼티,상수, 변수가 그 인스턴스에 대한 참조를 갖고 있는지 추적을 한다. 만약 인스턴스가 그 어떤 참조가 없을 경우에만 메모리에서 해지하여 메모리 공간을 마련한다.</p>
</blockquote>

<h2 id="arc의-사용">ARC의 사용</h2>

<h3 id="단일-클래스의-arc">단일 클래스의 ARC</h3>

<p>하나의 클래스 내부에 다른클래스 인스턴스를 프로퍼티로 갖지 않는 아래와 같은 경우 Unit 클래스의 인스턴스가 생성이 되고 marine 과 medic 변수가 bionic변수를 참조하면서 Unit 클래스의 Referecne Counting의 수는 3이 되고 이를 메모리에서 해제할려면 ARC는 Reference Counting 값이 0이되는 것을 항상 추적해야한다.</p>

<ul>
  <li>bionic, marine, medic 생성</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Unit</span> <span class="p">{</span>
	<span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
	<span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
    	<span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">이 initializing 되었습니다."</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="kd">deinit</span> <span class="p">{</span>
    	<span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s">이 deinitializing 되었습니다."</span><span class="p">)</span>
    <span class="p">}</span>
       
<span class="p">}</span>

<span class="k">var</span> <span class="nv">bionic</span><span class="p">:</span> <span class="kt">Unit</span><span class="p">?</span>
<span class="k">var</span> <span class="nv">marine</span><span class="p">:</span> <span class="kt">Unit</span><span class="p">?</span>
<span class="k">var</span> <span class="nv">medic</span><span class="p">:</span> <span class="kt">Unit</span><span class="p">?</span>

<span class="c1">//Unit 클래스 인스턴스 생성 bionic 변수가 참조</span>
<span class="n">bionic</span> <span class="o">=</span> <span class="kt">Unit</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Bionic"</span><span class="p">)</span>

<span class="c1">// marine과 medic 변수가 bionic변수를 참조 (즉 하나의 Unit 클래스 인스턴스 참조)</span>
<span class="c1">// 현재 상황에서 Reference Counting = 3이다.</span>
<span class="n">marine</span> <span class="o">=</span> <span class="n">bionic</span>
<span class="n">medic</span> <span class="o">=</span> <span class="n">bionic</span>
</code></pre>
</div>

<p><br /></p>

<ul>
  <li>bionic과 medic 변수에 nil 대입을 통해 Unit클래스의 RC(Reference Counting)값 -2</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">bionic</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="n">medic</span> <span class="o">=</span> <span class="kc">nil</span>
</code></pre>
</div>

<p>이 경우 아직 marine 변수가 참조하고 있기 때문에  Unit클래스의 RC의 값은 1이다.</p>

<p><br /></p>

<ul>
  <li>마지막으로 marine 변수에 nil을 대입한다.</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">marine</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="c1">// 출력:marine 이 deinitializing 되었습니다.</span>
</code></pre>
</div>
<p>위처럼 RC 값이 결국 0 이 되고 ARC는 Unit 클래스 인스턴스를 메모리에서 해제한다.</p>

<p><br /></p>

<h3 id="클래스-인스턴스간-strong-reference-cycle-강한참조순환">클래스 인스턴스간 Strong Reference Cycle (강한참조순환)</h3>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Unit</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 initializing 되었습니다."</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">var</span> <span class="nv">tribe</span><span class="p">:</span> <span class="kt">Tribe</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 deinitializeing 되었습니다.  "</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">Tribe</span> <span class="p">{</span>
    <span class="c1">// 종족</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 initializing 되었습니다."</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">var</span> <span class="nv">unit</span><span class="p">:</span> <span class="kt">Unit</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 deinitializeing 되었습니다.  "</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Unit 클래스와 Tribe(종족) 클래스가 서로의 클래스 인스턴스를 프로퍼티로 가지고 있는 상황이다.</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">terran</span><span class="p">:</span> <span class="kt">Tribe</span><span class="p">?</span>
<span class="k">var</span> <span class="nv">marine</span><span class="p">:</span> <span class="kt">Unit</span><span class="p">?</span>
        
<span class="n">terran</span> <span class="o">=</span> <span class="kt">Tribe</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Terran"</span><span class="p">)</span>
<span class="n">marine</span> <span class="o">=</span> <span class="kt">Unit</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Marine"</span><span class="p">)</span>
</code></pre>
</div>
<p><img width="812" alt="image" src="https://user-images.githubusercontent.com/33486820/58230464-599fd680-7d6f-11e9-8630-d243dc521353.png" /></p>

<p>각각의 변수는 Class Instance를 참조하고 있고 이때 각 클래스의 RC값이 하나씩 증가한다. 그럼 이때 nil 값이 었던 내부의 클래스 인스턴스를 서로 참조를 한다.</p>

<ul>
  <li>서로의 클래스 인스턴스 프로퍼티가 각각 서로 변수를 참조하고 있다.</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">terran</span><span class="p">?</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">marine</span>
<span class="n">marine</span><span class="p">?</span><span class="o">.</span><span class="n">tribe</span> <span class="o">=</span> <span class="n">terran</span>
</code></pre>
</div>

<p><img width="841" alt="image" src="https://user-images.githubusercontent.com/33486820/58231885-0c256880-7d73-11e9-999a-bb631ed3258f.png" /></p>

<p>기존의 RC 값이 각각 1이었다가 인스턴스 내부의 다른 클래스의 인스턴스를 참조하는 변수를 갖기 때문에 RC값은 2 가된다.<br />
그리고 <code class="highlighter-rouge">marine</code>과 <code class="highlighter-rouge">terran</code>변수의 참조를 nil을 대입하여 끊게되면</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">terran</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="n">marine</span> <span class="o">=</span> <span class="kc">nil</span>
</code></pre>
</div>

<p><img width="821" alt="image" src="https://user-images.githubusercontent.com/33486820/58231946-337c3580-7d73-11e9-840e-4bb0fb441706.png" /></p>

<p>위의 그림에서 볼수 있듯이 기존의 strong 하게 참조하던 <code class="highlighter-rouge">marine</code> 과 <code class="highlighter-rouge">terran</code> 변수의 참조는 해제가되어 RC의 값이 1씩 감소가 되었다. 하지만 개발자가 생각하기에 메모리에 두 클래스의 인스턴스는 해제되었다고 생각하겠지만 클래스내부에에서 서로의 클래스 인스턴스를 마찬가지로 강하게 참조하고 있기 때문에 RC값이 1 로 유지가 되고 ARC는 클래스인스턴스가 아직 유효하다고판단, <strong>해제를 하지 않아 메모리에 누수가 발생한다.</strong></p>

<p><br /></p>

<h3 id="strong-referecne-cycle-solution">Strong Referecne Cycle Solution</h3>
<p><br />
위의 상황가 같이 서로의 클래스 인스턴스를 프로퍼티로 가지고 있는 클래스 객체에 대해 단순하게 클래스 객체에 nil을 대입하면 기존의 선언한 변수 객체 내부에서 클래스 인스턴스의 참조가 끊기지 않게되고 RC가0이 되지 않아 메모리의 누수가 발생한다. 이런 문제점을 해결하기 위해 아래 두가지 Referece Cycle 키워드를 제공한다.</p>

<ul>
  <li>weak reference: 약한 참조</li>
  <li>unowned reference: 미소유 참조</li>
</ul>

<p><br /></p>

<h5 id="weak-reference약한-참조">Weak Reference(약한 참조)</h5>

<p>약한 참조로 weak를 붙여 선언하게 되면 참조하고 있는 것이 먼저 메모리에서 해제되기 때문에 ARC는 약한 참조로 선언된 참조 대상이 해지 되면 런타임에 자동으로 참조하고 있는 변수에 nil을 할당한다. IBOutlet에서 항상 weak를 붙이는 이유도 마찬가지로 weak는 해당 객체가 nil일 수 있다. weak는 객체가 옵셔널이라 해당 객체가 해제 되어 버린 상태에사 침조하게 되면 Application이 강제종료가 되는 상황을 방지하기 위해 weak는 <strong>언래핑</strong>을 통해 안전하게 사용할 수 있다.</p>

<blockquote>
  <p>weak는 반드시 Optional다. 즉 nil이 될 수있다는 것을 항상 염두해야한다. weak로 선언한 변수는 힙에서 어떤 메모리를 가리키고 있고 만약 내부에 값에 더이상 접근을 하지 않고 필요가 없다면 nil로 설정한다고 생각하면된다.</p>
</blockquote>

<blockquote>
  <p>참고: ARC에서 약한 참조에 nil을 할당하면 프로퍼티 옵저버는 실행되지 않는다.</p>
</blockquote>

<p><br /></p>

<ul>
  <li>Unit과 Tribe 클래스 내부에 서로의 클래스 인스턴스를 프로퍼티로 갖고있다.</li>
</ul>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Unit</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 initializing 되었습니다."</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">var</span> <span class="nv">tribe</span><span class="p">:</span> <span class="kt">Tribe</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 deinitializeing 되었습니다.  "</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">Tribe</span> <span class="p">{</span>
    <span class="c1">// 종족</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    
    <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 initializing 되었습니다."</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="c1">// weak를 붙여 unit 변수는 약하게 Unit class Instance를 참조하고 있다. </span>
    <span class="k">weak</span> <span class="k">var</span> <span class="nv">unit</span><span class="p">:</span> <span class="kt">Unit</span><span class="p">?</span>
    <span class="kd">deinit</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> 이 deinitializeing 되었습니다.  "</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><br /></p>

<p>Tribe 클래스에서 unit 변수를 weak으로 선언했다.</p>

<p><img width="836" alt="image" src="https://user-images.githubusercontent.com/33486820/58232012-66bec480-7d73-11e9-9151-35a6472f6a87.png" /></p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">terran</span><span class="p">:</span> <span class="kt">Tribe</span><span class="p">?</span>
<span class="k">var</span> <span class="nv">marine</span><span class="p">:</span> <span class="kt">Unit</span><span class="p">?</span>
        
<span class="n">terran</span> <span class="o">=</span> <span class="kt">Tribe</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Terran"</span><span class="p">)</span>
<span class="n">marine</span> <span class="o">=</span> <span class="kt">Unit</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Marine"</span><span class="p">)</span>
        
<span class="c1">// 1.</span>
<span class="n">terran</span><span class="p">?</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="n">marine</span>
<span class="c1">// 2.</span>
<span class="n">marine</span><span class="p">?</span><span class="o">.</span><span class="n">tribe</span> <span class="o">=</span> <span class="n">terran</span>
        
<span class="c1">// 3.</span>
<span class="n">marine</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="c1">// 출력 : Marine 이 deinitializeing 되었습니다.  </span>

<span class="c1">// 4.</span>
<span class="n">terran</span> <span class="o">=</span> <span class="kc">nil</span> 
<span class="c1">// 출력 : Terran 이 deinitializeing 되었습니다.  </span>
</code></pre>
</div>

<p>이 경우 1. 에서 unit의 Unit 인스턴스를 <strong>weak</strong> 하게 참조 하고 있기 때문에 RC의 경우를 올리지 않는다. 단지 marine 변수가 참조하고 있어 RC의 값은 1을 가지게 된다.</p>
<ol>
  <li>에서 marine의 Unit 클래스 인스턴스 참조를 해제시키면 Unit 의경우 RC 값이 0 이기 때문에 ARC는 Unit 클래스 인스턴스를 메모리에서 완전히 해제시키고 Tribe 클래스를 강하게 참조하고 있던 Unit 클래스 인스턴스가 사라지게 되고</li>
</ol>

<p><img width="950" alt="image" src="https://user-images.githubusercontent.com/33486820/58232259-1431d800-7d74-11e9-879b-7308c76821cd.png" /></p>

<p>비로서 Tribe 의 RC 값은 1 이되고 4. 를 수행할 시 Tribe 클래스도 ARC에 의해<code class="highlighter-rouge">deinit</code> 이 수행 될 수 있는 것이다.</p>

<p><img width="853" alt="image" src="https://user-images.githubusercontent.com/33486820/58232712-37a95280-7d75-11e9-8743-7230f4a4a8b1.png" /></p>

<blockquote>
  <p>참고<br />
	Java 처럼 가비지 콜렉션을 사용하는 시스템에서 weak pointer를 단순한 시스템 캐싱 목적으로 사용하기도 한다. 메모리 소모가 많아지면 가비지 콜렉터를 실행해서 Strong 참조가 없는 객체를 메모리에서 해제하는 식으로 동작하기 때문이다. 하지만 ARC의 경우 가비지 콜렉터와 다르게 참조 횟수가 0이 되는 즉시 해당 인스턴스를 제거하기 때문에 약한 참조를 이런 목적으로 사용할 수 없다.</p>
</blockquote>

<blockquote>
  <p>결론 : weak 선언 시 RC 값 증가 시키지 않고 ARC는 RC가 0 인 클래스 인스턴스를 메모리 해지한다.</p>
</blockquote>

<p><br /></p>

<h5 id="unowned-references미소유-참조">Unowned References(미소유 참조)</h5>

<p>Weak Reference와 다르게 참조 대상이 되는 인스턴스가 현재 참조하고 있는 것과 같은 생애주기(lifetime)를 갖거나 더 긴 생애 주기(longer lifetime)을 갖기 때문에 항상 참조에 그 값이 있다고 생각한다. 그래서 <strong>ARC는 미소유 참조에는 절대 nil을 할당하지 않는다 즉, 옵셔널 타입을 사용하지 않는다.</strong></p>

<blockquote>
  <p>중요<br />
	미소유 참조는 참조 대상 인스턴스가 항상 존재한다고 생각하기 때문에 만약 미소유 참조로 선언된 인스턴스가 해제됐는데 접근하게 되면 런타임 에러가 발생한다.</p>
</blockquote>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="kd">class</span> <span class="kt">Customer</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span>
    <span class="k">var</span> <span class="nv">card</span><span class="p">:</span> <span class="kt">CreditCard</span><span class="p">?</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
    <span class="p">}</span>
    <span class="kd">deinit</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="s">"</span><span class="se">\(</span><span class="n">name</span><span class="se">)</span><span class="s"> is being deinitialized"</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="kt">CreditCard</span> <span class="p">{</span>
    <span class="k">let</span> <span class="nv">number</span><span class="p">:</span> <span class="kt">UInt64</span>
    <span class="k">unowned</span> <span class="k">let</span> <span class="nv">customer</span><span class="p">:</span> <span class="kt">Customer</span>
    <span class="nf">init</span><span class="p">(</span><span class="nv">number</span><span class="p">:</span> <span class="kt">UInt64</span><span class="p">,</span> <span class="nv">customer</span><span class="p">:</span> <span class="kt">Customer</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>
        <span class="k">self</span><span class="o">.</span><span class="n">customer</span> <span class="o">=</span> <span class="n">customer</span>
    <span class="p">}</span>
    <span class="kd">deinit</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="s">"Card #</span><span class="se">\(</span><span class="n">number</span><span class="se">)</span><span class="s"> is being deinitialized"</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>두 클래스 Customer 와 CreditCard 는 서로의 클래스 인스턴스를 참조하고 있다.<br />
이때 customer는 미소유 참조 <code class="highlighter-rouge">unowned</code>으로 선언한다.<br />
이유는 <strong>고객과 신용카드를 비교해 봤을때 신용카드는 없더라도 사용자는 남아있을 것이기 때문</strong>이다.  다시 말하면 신용카드가 없더라도 사용자는 존재하기 때문이다.<br />
그렇기 때문에 CreditCard의 customer를 unowned로 선언한다.</p>

<p>그리고 Customer 변수를 생성하고 프로퍼티 값을 설정한다.</p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="k">var</span> <span class="nv">john</span><span class="p">:</span> <span class="kt">Customer</span><span class="p">?</span>

<span class="n">john</span> <span class="o">=</span> <span class="kt">Customer</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"John Appleseed"</span><span class="p">)</span>
<span class="n">john</span><span class="o">!.</span><span class="n">card</span> <span class="o">=</span> <span class="kt">CreditCard</span><span class="p">(</span><span class="nv">number</span><span class="p">:</span><span class="mi">1234_5678_9012_3456</span><span class="p">,</span><span class="nv">customer</span><span class="p">:</span><span class="n">john</span><span class="o">!</span><span class="p">)</span>
</code></pre>
</div>

<p><img width="936" alt="image" src="https://user-images.githubusercontent.com/33486820/58236160-3bd96e00-7d7d-11e9-88c9-6dc83fb6606b.png" /></p>

<p>jonh 변수가 Customer 인스턴스를 참조하고 있고 CreditCard 인스턴스도 Customer 인스턴스를 참조하고 있지만 <strong>Unowned 참조</strong>를 하고 있기 때문에 Customer 클래스의 RC의 값은 1이된다.</p>

<p>이 상황에서 john 변수의 Customer 인스턴스 참조를 끊으면 다음과 같이 된다.</p>

<p><img width="971" alt="image" src="https://user-images.githubusercontent.com/33486820/58236306-983c8d80-7d7d-11e9-96e9-2f59fe9a72d1.png" /></p>

<div class="language-swift highlighter-rouge"><pre class="highlight"><code><span class="n">john</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="c1">// Prints "John Appleseed is being deinitialized"</span>
<span class="c1">// Prints "Card #1234567890123456 is being deinitialized"</span>
</code></pre>
</div>

<p>그렇게 되면 Customer클래스의 RC의 값은 john변수에 의해 강하게 참조 되고 있던것이 끊어져 1이되고 ARC에 의해 Customer 인스턴스가 메모리 해제되고 마찬가지로 CreditCard 인스턴스 또한 메모리에서 해제된다.</p>

<blockquote>
  <p>참고<br />
	위 예제는 안전하게 미소유 참조를 사용하는 방법의 예이다. 반면 Swift에서는 성능문제를 위해 런타임에 안전성 확인을 하지 않고 사용하는 unsafe 미소유 참조도 제공한다.</p>
</blockquote>

<p>&lt;/br&gt;</p>
<hr />

<h2 id="reference">Reference</h2>

<ul>
  <li>https://jusung.gitbook.io/the-swift-language-guide/untitled-19</li>
  <li>https://medium.com/@jang.wangsu/ios-swift-rc-arc-와-mrc-란-그리고-strong-weak-unowned-는-간단하게-적어봤습니다-988a293c04ac</li>
  <li>http://monibu1548.github.io/2018/05/03/iboutlet-strong-weak/</li>
</ul>

    <br />
    <br />
  </div>
  

</article>

<!--<hr class="dingbat" />-->
<!--
<div class="share">
  <h2>Share this post</h2>
  <div class="share-body">
    <a href="http://twitter.com/share?text=Swift 메모리 관리&amp;url=http://localhost:4000/swift/2019/08/24/Swift-Basic-01/"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="icon-twitter">
      </span>
    </a>
    <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/swift/2019/08/24/Swift-Basic-01/"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="icon-facebook">
      </span>
    </a>
  </div>
</div>
-->
<br />






  <aside class="author" role="complementary">
    <div class="author">
  <h2 class="page-title hr">
    About
  </h2>
<div class="author-body">
  
    
  

  

  <img
    src="/assets/img/me.jpg"
    class="me"
    alt="youngjun gu"
    srcset="/assets/img/me.jpg 1x,/assets/img/me.jpg 2x"
    
  />


  
  <div class="author-body-description">
    <p>오늘을 기록하고 내일을 코딩하는 개발자</p>

  </div>
</div>
</div>

  </aside>




<aside class="related" role="complementary">
  <h2 class="hr">Related Posts</h2>

  <ul class="related-posts">
    
      
      
      
        
        
          


<li class="h4">
  <a href="/swift/2020/10/10/Swift-OOP-DIP/" data-flip="title">
    <span>Swift OOP) DIP - 의존관계역전원칙(Dependency Inversion Principle)</span>
  </a>
  <small><time datetime="2020-10-10T00:00:00+09:00">
    10 Oct 2020
  </time></small>
</li>

        
      
        
        
          


<li class="h4">
  <a href="/swift/2020/07/20/Swift-OOP-ISP/" data-flip="title">
    <span>Swift OOP) ISP - 인터페이스 분리원칙(Interface Segregation Principle)</span>
  </a>
  <small><time datetime="2020-07-20T00:00:00+09:00">
    20 Jul 2020
  </time></small>
</li>

        
      
        
        
          


<li class="h4">
  <a href="/swift/2020/07/19/Swift-OOP-LSP/" data-flip="title">
    <span>Swift OOP) LSP - 리스코프 치환원칙(Liskov Substitution Principle)</span>
  </a>
  <small><time datetime="2020-07-19T00:00:00+09:00">
    19 Jul 2020
  </time></small>
</li>

        
      
        
        
      
    
  </ul>
</aside>


      
        <aside class="comments" role="complementary">
  <h2>Comments</h2>
  <hr/>

  <div id="disqus_thread"></div>

  <script>
    !function(s,i){function e(e){var t=s.pageYOffset||i.body.scrollTop;s.DISQUS&&!s._disqusThis&&!s._disqusFirst&&t+s.innerHeight>=s._disqusThreadOffsetTop&&(s._disqusThis=!0,s.DISQUS.reset({reload:!0,config:d}))}var d=function(){this.page.title="Swift 메모리 관리",this.page.identifier="/swift/2019/08/24/Swift-Basic-01",this.page.url="http://localhost:4000/swift/2019/08/24/Swift-Basic-01/"};s._disqusFirst=void 0===s._disqusFirst||s._disqusFirst,s._disqusLoading=void 0!==s._disqusLoading&&s._disqusLoading,s._disqusThis=!1,s._disqusThreadOffsetTop=i.getElementById("disqus_thread").offsetTop,s._disqusLoading?s._disqusFirst=!1:(s._disqusLoading=!0,loadJSDeferred("//gaki.disqus.com/embed.js"),s.addEventListener?s.addEventListener("scroll",e,{passive:!0}):s.attachEvent?s.attachEvent("onscroll",e):s.onscroll=e)}(window,document);

  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</aside>

      

      <footer>
  <hr/>
  
    <p>© 2020. by Gaki</p>

  
  <p>
    <code>Powered by <a href="https://gaki2745.github.io/">gaki</a></code>
  </p>
</footer>

    </main>
    <div class="right-side">
  <br />
  <br />
</div>

  </div>
  <div id="_yDrawer">
  <div id="_sidebar" class="sidebar">
    <div class="sidebar-bg" style="background-color:#4f86aa;background-image:url(/assets/img/kumo.jpg)"></div>
    <header class="sidebar-sticky" role="banner">
      <br/>
      <div class="sidebar-about">
        <h1><a id="_title" href="/">Gaki</a></h1>
        <p>오늘을 기록하고 내일을 코딩하는 iOS 개발자</p>

      </div>

      <br/>
      <br/>
      <nav class="sidebar-nav heading" role="navigation">
        <span class="sr-only">Navigation:</span>
<ul>
  

  

  
  
  
  
  
    <li>
      <input type="checkbox" id="list-item-1"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/ios/">iOS</a>
       <label class="folder" for="list-item-1">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-basic/">Basic</a>
             </li>
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-%EB%94%94%EC%9E%90%EC%9D%B8%ED%8C%A8%ED%84%B4/">디자인패턴</a>
             </li>
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90%ED%8C%A8%ED%84%B4/">아키텍쳐패턴</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-%ED%85%8C%EC%8A%A4%ED%8C%85/">테스팅</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-ui%EB%94%94%EC%9E%90%EC%9D%B8/">UI디자인</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-arkit/">ARKit</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-avfoundation/">AVFoundation</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/ios-pop/">POP</a>
             </li>
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-2"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/swift/">Swift</a>
       <label class="folder" for="list-item-2">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/swift-basic/">Basic</a>
             </li>
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/swift-rxswift/">RxSwift</a>
             </li>
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/swift-oop/">OOP</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-3"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/algorithm/">Algorithm</a>
       <label class="folder" for="list-item-3">▾</label>
    </div>
     <ul class="list-body">
       
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/algorithm-problem/">문제풀이</a>
             </li>
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/algorithm-swiftalgorithm/">SwiftAlgorithm</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-4"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/swiftui/">SwiftUI</a>
       <label class="folder" for="list-item-4">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/swiftui-combine/">Combine</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-5"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/wwdc/">WWDC</a>
       <label class="folder" for="list-item-5">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/wwdc-2019/">2019</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-6"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/category/life/">Life</a>
       <label class="folder" for="list-item-6">▾</label>
    </div>
     <ul class="list-body">
       
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/life-review/">후기</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
             <li>
               <a class="sidebar-nav-subitem" href="/tag/life-retrospect/">회고</a>
             </li>
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
  
    <li>
      <input type="checkbox" id="list-item-7"/>
      <div  class="list-wrapper">
      <a class="sidebar-nav-item" href="/about/">About</a>
       
    </div>
     <ul class="list-body">
       
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
           
         
     </ul>
    </li>

  
</ul>

      </nav>
    <br/>
    <br/>
      <div class="sidebar-box">
        
          
  

  

  <img
    src="/assets/img/me.jpg"
    class="me"
    alt="youngjun gu"
    srcset="/assets/img/me.jpg 1x,/assets/img/me.jpg 2x"
    
  />


        
      </div>
      <p>Be Faithful to the Basic!!</p>

      
      
        <div class="sidebar-social">
          <span class="sr-only">Social:</span>
<ul>
  
    









<li>
  <a href="https://facebook.com/yeongjun.gu">
    <span class="icon-facebook" title="Facebook"></span>
    <span class="sr-only">Facebook</span>
  </a>
</li>

  
    









<li>
  <a href="https://github.com/gaki2745">
    <span class="icon-github" title="GitHub"></span>
    <span class="sr-only">GitHub</span>
  </a>
</li>

  
    









<li>
  <a href="mailto:guyeongjun@naver.com">
    <span class="icon-mail" title="Email"></span>
    <span class="sr-only">Email</span>
  </a>
</li>

  
    









<li>
  <a href="https://gaki2745.github.io/feed.xml">
    <span class="icon-rss2" title="RSS"></span>
    <span class="sr-only">RSS</span>
  </a>
</li>

  
</ul>

        </div>
      
    </header>
  </div>
</div>
</div>

<!-- =============== -->
<!-- SCRIPTS         -->
<!-- =============== -->

<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-92346434-1', 'auto');
  ga('send', 'pageview');
  loadJSDeferred('https://www.google-analytics.com/analytics.js');
</script>





<!--[if gt IE 8]><!---->
<script src="//ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
<script>
  WebFont.load({
    
    google: {
      families: 'Lato'.split('|')
    },
    

    custom: {
      families: ['icomoon'],
      urls: ['/assets/icomoon/style.css']
    }
  });
</script>
<!--<![endif]-->


  <!--[if gt IE 9]><!---->
  
  <script>loadJSDeferred('/assets/js/hydejack.js?v=6.4.0');</script>

  
  <!--<![endif]-->



</body>

</html>
